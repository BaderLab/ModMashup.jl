<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Common function · ModMashup.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/highlightjs/default.css" rel="stylesheet" type="text/css"/><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>ModMashup.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" action="../search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../index.html">Home</a></li><li><a class="toctext" href="../dev/get_start.html">Quick Start</a></li><li><a class="toctext" href="../dev/GSoC.html">GSoC summary - End-to-end example</a></li><li><span class="toctext">Algorithms</span><ul><li><a class="toctext" href="database.html">Database</a></li><li><a class="toctext" href="label_propagation.html">Label Propagation</a></li><li><a class="toctext" href="network_integration.html">Network Integration</a></li><li><a class="toctext" href="pipeline.html">Pipeline</a></li><li class="current"><a class="toctext" href="common.html">Common function</a><ul class="internal"><li><a class="toctext" href="#Common-function-1">Common function</a></li></ul></li></ul></li><li><a class="toctext" href="../dev/contributions.html">Contribution</a></li></ul></nav><article id="docs"><header><nav><ul><li>Algorithms</li><li><a href="common.html">Common function</a></li></ul><a class="edit-page" href="https://github.com/memoiry/GeneMANIA.jl/tree/7d75a55844292f521902cac3e2a36dc4b4f85604/docs/src/algo/common.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Common function</span><a class="fa fa-bars" href="#"></a></div></header><h2><a class="nav-anchor" id="Common-function-1" href="#Common-function-1">Common function</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModMashup.rwr" href="#ModMashup.rwr"><code>ModMashup.rwr</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">rwr(A::Matrix, restart_prob = 0.5)</code></pre><p>Random walk with restart.</p><p><strong>Arguments</strong></p><p><code>A</code>: Initial matrix for random walk.</p><p><code>restart_prob</code>: Restart probability. Default 0.5.</p><p><strong>Outputs</strong></p><p><code>Q::Matrix</code>: matrix after random walk.</p></div><a class="source-link" target="_blank" href="https://github.com/memoiry/GeneMANIA.jl/tree/7d75a55844292f521902cac3e2a36dc4b4f85604/src/common.jl#L13-L28">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModMashup.pca" href="#ModMashup.pca"><code>ModMashup.pca</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">pca(A::Matrix, num::Int64=size(A,2))</code></pre><p>Perform PCA for a matrix.</p><p><strong>Arguments</strong></p><p><code>A::Matrix</code>: matrix for PCA</p><p><strong>keywords</strong></p><p><code>num::Int64=size(A,2)</code>: Number of diensions selected.</p><p><strong>Output</strong></p><p>pca vector and pca value</p><p><code>eigenvalue::Vector</code>: as name suggested. <code>eigenvector::Matrix</code>: columns represent eigen vector.</p><p><strong>Example</strong></p><pre><code class="language-juli-repl">julia&gt; a = rand(5,5)
5×5 Array{Float64,2}:
 0.149599  0.318179  0.235567  0.779247  0.276985
 0.175398  0.109825  0.532561  0.723127  0.621328
 0.68087   0.639779  0.754652  0.781525  0.264776
 0.77962   0.446314  0.805693  0.88001   0.655808
 0.19243   0.43587   0.945708  0.109192  0.196602

julia&gt; pca_value, pca_vector = pca(a)
([2.77556e-17,0.000524192,0.0396649,0.113626,0.128647],
[0.483429 0.397074 … -0.376334 -0.679859; -0.738733 0.15917 … -0.379275 -0.170866; … ;
 -0.0942359 -0.593824 … 0.444543 -0.643074; -0.457645 0.345674 … 0.1949 -0.306201])</code></pre></div><a class="source-link" target="_blank" href="https://github.com/memoiry/GeneMANIA.jl/tree/7d75a55844292f521902cac3e2a36dc4b4f85604/src/common.jl#L38-L74">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModMashup.build_index-Tuple{String}" href="#ModMashup.build_index-Tuple{String}"><code>ModMashup.build_index</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">build_index(index_file::String)</code></pre><p>Get two dictionary, one map patients name to its id, another map patient id to its name.</p><p><strong>Arguments</strong></p><p><code>index_file::String</code>: </p><p><strong>Outputs</strong></p><p><code>patients_index::Dict{String, Int}</code>: map patientd name to its internal id.</p><p><code>inverse_index::Dict{Int, String}</code>: map patientd internal id to its name.</p><p><strong>Example</strong></p><pre><code class="language-julia"># get example data directory
example_data_dir = joinpath(Pkg.dir(&quot;ModMashup&quot;), &quot;test/data&quot;)

# Id file contains all the name of patients.
id = joinpath(example_data_dir,&quot;ids.txt&quot;)

# Build the index
patients_index, inverse_index = build_index(id)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/memoiry/GeneMANIA.jl/tree/7d75a55844292f521902cac3e2a36dc4b4f85604/src/common.jl#L81-L108">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModMashup.parse_target-Tuple{Array{T,2},Dict{String,Int64}}" href="#ModMashup.parse_target-Tuple{Array{T,2},Dict{String,Int64}}"><code>ModMashup.parse_target</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">parse_target(target::Matrix,
    patients_index::Dict{String, Int})</code></pre><p>Get a vector of annotation for patients. (+1 for interested, -1 for others)</p><p><strong>Inputs</strong></p><p><code>target::Matrix</code>: colume one is patient name, colume two is patient label.</p><p><code>patients_index::Dict{String, Int}</code>: map patientd name to its internal id.</p><p><strong>Outputs</strong></p><p><code>id_label::Matrix</code>: colume one is patient id, colume two is patient label.</p><p><strong>Example</strong></p><pre><code class="language-julia">
# get example data directory
example_data_dir = joinpath(Pkg.dir(&quot;ModMashup&quot;), &quot;test/data&quot;)

# Id file contains all the name of patients.
id = joinpath(example_data_dir,&quot;ids.txt&quot;)

# Build the patient index
patients_index, inverse_index = build_index(id)

# target_file should be a flat file contains disaese for patient
target_file = joinpath(example_data_dir,&quot;target.txt&quot;)

# Build the annotation for each patients
annotation = parse_target(readdlm(target_file), patients_index)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/memoiry/GeneMANIA.jl/tree/7d75a55844292f521902cac3e2a36dc4b4f85604/src/common.jl#L123-L158">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModMashup.parse_query-Tuple{String,Dict{String,Int64}}" href="#ModMashup.parse_query-Tuple{String,Dict{String,Int64}}"><code>ModMashup.parse_query</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">parse_query(query_file, patients_index)</code></pre><p>Get query patient id from the query file.</p><p><strong>Inputs</strong></p><p><code>query_file::String</code>: query filename whose format same with GeneMANIA query.</p><p><code>patients_index::Dict{String, Int}</code>: map patientd name to its internal id.</p><p><strong>Outputs</strong></p><p><code>query_id::Vector</code>: query patient id.</p><p><strong>Example</strong></p><pre><code class="language-julia">
# get example data directory
example_data_dir = joinpath(Pkg.dir(&quot;ModMashup&quot;), &quot;test/data&quot;)

# Id file contains all the name of patients.
id = joinpath(example_data_dir,&quot;ids.txt&quot;)

# Build the patient index
patients_index, inverse_index = build_index(id)

# Query file using the same format with genemania query
query = joinpath(example_data_dir,&quot;query.txt&quot;)

# Build the annotation for each patients
query = parse_query(query, patients_index)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/memoiry/GeneMANIA.jl/tree/7d75a55844292f521902cac3e2a36dc4b4f85604/src/common.jl#L168-L202">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModMashup.load_net-Tuple{String,ModMashup.Database}" href="#ModMashup.load_net-Tuple{String,ModMashup.Database}"><code>ModMashup.load_net</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">load_net(filename::String,
              database::Database)</code></pre><p>Load similairity network from a flat file.  Format <code>patient_name patient_name simialirty_score</code>. Use databse to map patient_name to internal id.</p><p><strong>Inputs</strong></p><p><code>filename::String</code>: similairty network filename.</p><p><code>database::Database</code>: store general information.</p><p><strong>Outputs</strong></p><p><code>A::Matrix</code>: similairty network as a matrix.</p></div><a class="source-link" target="_blank" href="https://github.com/memoiry/GeneMANIA.jl/tree/7d75a55844292f521902cac3e2a36dc4b4f85604/src/common.jl#L213-L231">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModMashup.searchdir-Tuple{String,String}" href="#ModMashup.searchdir-Tuple{String,String}"><code>ModMashup.searchdir</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">searchdir(path,key)</code></pre><p><strong>Inputs</strong></p><p><code>path::String</code>: directory we want to search</p><p><code>key::String</code>: keyword that the file we seached contains.</p><p><strong>Outputs</strong></p><ul><li><p>a list of files whose name contains the keyword provided.</p></li><li><p><code>Input</code>: directory we want to search and the keyword.</p></li><li><p><code>Output</code>: a list of files whose name contains the keyword provided.</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/memoiry/GeneMANIA.jl/tree/7d75a55844292f521902cac3e2a36dc4b4f85604/src/common.jl#L254-L269">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModMashup.get_combined_network" href="#ModMashup.get_combined_network"><code>ModMashup.get_combined_network</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">get_combined_network(model::IgAbstractParams)</code></pre><p>Get combined network from network integration model.</p><p><strong>Input</strong></p><p>Network integration model after perfrom <a href="network_integration.html#ModMashup.network_integration!-Tuple{ModMashup.MashupIntegration,ModMashup.Database}"><code>network_integration!</code></a>.</p><p><strong>Output</strong></p><p>Combined network.</p></div><a class="source-link" target="_blank" href="https://github.com/memoiry/GeneMANIA.jl/tree/7d75a55844292f521902cac3e2a36dc4b4f85604/src/integration_types.jl#L92-L104">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModMashup.get_weights" href="#ModMashup.get_weights"><code>ModMashup.get_weights</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">get_weights(model::IgAbstractParams)</code></pre><p>Get a dictionalry to map network name to its network weights from network integration model.</p><p><strong>Input</strong></p><p>Network integration model after perfrom <a href="network_integration.html#ModMashup.network_integration!-Tuple{ModMashup.MashupIntegration,ModMashup.Database}"><code>network_integration!</code></a>.</p><p><strong>Output</strong></p><p>a dictionalry to map network name to its network weights.</p></div><a class="source-link" target="_blank" href="https://github.com/memoiry/GeneMANIA.jl/tree/7d75a55844292f521902cac3e2a36dc4b4f85604/src/integration_types.jl#L127-L139">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ModMashup.get_score" href="#ModMashup.get_score"><code>ModMashup.get_score</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">get_score(model::LabelPropagation)</code></pre><p><strong>Arguments</strong></p><p><code>model::LabelPropagation</code>: Label propagation model.</p><p><strong>Outputs</strong></p><p><code>score::Dict{String, Float64}</code>: A dictionary maps patients&#39; name to their score.</p><p>Pick up score from model after label propagation.</p></div><a class="source-link" target="_blank" href="https://github.com/memoiry/GeneMANIA.jl/tree/7d75a55844292f521902cac3e2a36dc4b4f85604/src/label_propagation.jl#L198-L209">source</a><br/></section><footer><hr/><a class="previous" href="pipeline.html"><span class="direction">Previous</span><span class="title">Pipeline</span></a><a class="next" href="../dev/contributions.html"><span class="direction">Next</span><span class="title">Contribution</span></a></footer></article></body></html>
